<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Visualizzazione Completa</title>
    <script>
        function carica(endpoint, containerId, label, formatter) {
            fetch(`http://localhost:8080/${endpoint}/tutti`)
                .then(res => res.json())
                .then(data => {
                const box = document.getElementById(containerId);
                box.innerHTML = `<h3>${label}:</h3>`;
                data.forEach(d => {
                    box.innerHTML += `<pre>${formatter(d)}</pre><hr>`;
                });
                })
                .catch(err => console.error(`Errore caricamento ${label}:`, err));
            }

            // Formattatori semplici per ogni entità (puoi migliorarli)
            function formatNave(n) {
            return `ID: ${n.idNave}, Nome: ${n.nome}`;
            }
            function formatPorto(p) {
            return `ID: ${p.idPorto}, Nome: ${p.nome}, Nazionalità: ${p.nazionalita}, Linea: ${p.linea}`;
            }
            function formatViaggio(v) {
            return `ID: ${v.idViaggio}, Nave: ${v.idNave}, Da: ${v.idPortoPartenza} a ${v.idPortoArrivo}, Partenza: ${v.data_partenza}, Allibramento: ${v.dataAllibramento}`;
            }
            function formatPolizza(p) {
            return `ID: ${p.idPolizza}, Viaggio: ${p.idViaggio}, Tipo merce: ${p.tipologiaMerce}, Peso: ${p.pesoKg}kg, Fornitore: ${p.fornitore}`;
            }
            function formatBuono(b) {
            return `ID: ${b.idBuono}, Polizza: ${b.idPolizza}, Peso: ${b.pesoKg}kg, Cliente: ${b.cliente}`;
            }
            function formatRitiro(r) {
            return `ID: ${r.idRitiro}, Buono: ${r.idBuono}, Targa: ${r.targaCamion}, Autista: ${r.idAutista}, Data: ${r.data_ritiro}, Peso: ${r.peso_ritirato}kg`;
            }
            function formatCamion(c) {
            return `Targa: ${c.targa}`;
            }
            function formatAutista(a) {
            return `ID: ${a.idAutista}, Nome: ${a.nome} ${a.cognome}`;
            }
            function formatCliente(c) {
            return `ID: ${c.id}, Username: ${c.username}, Nome: ${c.nome} ${c.cognome}`;
            }
            function formatAdmin(a) {
            return `ID: ${a.id}, Username: ${a.username}, Email: ${a.email}`;
            }

            // Carica tutto
            function caricaTutto() {
            carica("navi", "boxNavi", "Navi", formatNave);
            carica("porto", "boxPorti", "Porti", formatPorto);
            carica("viaggio", "boxViaggi", "Viaggi", formatViaggio);
            carica("polizza", "boxPolizze", "Polizze", formatPolizza);
            carica("buoni", "boxBuoni", "Buoni Consegna", formatBuono);
            carica("ritiro", "boxRitiri", "Ritiri", formatRitiro);
            carica("camion", "boxCamion", "Camion", formatCamion);
            carica("autisti", "boxAutisti", "Autisti", formatAutista);
            carica("cliente", "boxClienti", "Clienti", formatCliente);
            carica("admin", "boxAdmin", "Admin", formatAdmin);
            }
            </script>
</head>
<body>
    <h1>Visualizza Tutto il Database</h1>
  < button onclick="caricaTutto()">Carica Tutto</button>

    <div id="boxNavi"></div>
    <div id="boxPorti"></div>
    <div id="boxViaggi"></div>
    <div id="boxPolizze"></div>
    <div id="boxBuoni"></div>
    <div id="boxRitiri"></div>
    <div id="boxCamion"></div>
    <div id="boxAutisti"></div>
    <div id="boxClienti"></div>
    <div id="boxAdmin"></div>

  <script src="script.js"></script>
</body>
</html>
